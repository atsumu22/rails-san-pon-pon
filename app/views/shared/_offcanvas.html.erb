<a class="menu" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button" aria-controls="offcanvasExample">
  <i class="fa fa-solid fa fa-bars menu" type="button" data-bs-toggle="dropdown" aria-expanded="false"></i>
</a>

<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
  <div class="offcanvas-header">
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    <div class="offcanvas-header-content">
      <h3 class="ms-4 mb-4">SAMPOMPOM</h3>
      <% if user_signed_in? %>
        <div class="ms-4 d-flex align-items-center">
          <% if current_user.photo.attached? %>
            <%= cl_image_tag(current_user.photo.key, { class: "avatar-large me-3" }) %>
          <% else %>
              <%= image_tag('panda.jpg', class: "avatar-large me-3") %>
          <% end %>
          <p><%= current_user.name %></p>
        </div>
      <% end %>
    </div>

  </div>


  <div class="offcanvas-body">
    <% if user_signed_in? %>
      <% if current_user.status == "chairperson" %>
        <ul class="offcanvas-nav">
          <li><%= link_to "Dashboard", dashboard_path %></li>
          <li><%= link_to "Shops", shops_path %></li>
        </ul>
      <% else %>
        <ul class="offcanvas-nav">
          <li><%= link_to "Profile", dashboard_path %></li>
          <li><%= link_to "Rallies", stamp_rallies_path %></li>
          <li><%= link_to "Rewards", stamp_cards_path %></li>
        </ul>
      <% end %>
    <% else %>
      <ul class="offcanvas-nav">
        <li><%= link_to "Rallies", stamp_rallies_path %></li>
      </ul>
    <% end %>

    <ul class="actions">
      <% if user_signed_in? %>
        <li><%= link_to destroy_user_session_path, data: {turbo_method: :delete} do %>
          <i class="fa-solid fa-right-from-bracket"></i> Logout
        <% end %></li>
      <% end %>
    </ul>

  </div>
</div>
